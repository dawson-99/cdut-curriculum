### å¯»æ‰¾è´¨å› æ•°

```c++
#include <iostream>
#include <algorithm>

using namespace std;

bool is_prime(int x)
{
    if (x < 2) return false;
    for (int i = 2; i <= x / i; i ++ )//ä¸è¦ç”¨å¼€æ–¹å‡½æ•°æˆ–è€…i*iå°äºxã€‚å¼€æ–¹å‡½æ•°æ…¢ï¼Œi*iå¯èƒ½è¶Šç•Œ
        if (x % i == 0)
            return false;
    return true;
}

int main()
{
    int n;
    cin >> n;

    while (n -- )
    {
        int x;
        cin >> x;
        if (is_prime(x)) cout << "Yes" << endl;
        else cout << "No" << endl;;
    }

    return 0;
}
```

### åˆ†è§£è´¨å› æ•°

```c++
#include <iostream>
#include <algorithm>

using namespace std;

void divide(int x)
{
    for (int i = 2; i <= x / i; i ++ )//i <= x / i:é˜²æ­¢è¶Šç•Œï¼Œé€Ÿåº¦å¤§äº i < sqrt(x)
        if (x % i == 0)//iä¸ºåº•æ•°
        {
            int s = 0;//sä¸ºæŒ‡æ•°
            while (x % i == 0) x /= i, s ++ ;
            cout << i << ' ' << s << endl;//è¾“å‡º
        }
    if (x > 1) cout << x << ' ' << 1 << endl;//å¦‚æœxè¿˜æœ‰å‰©ä½™ï¼Œå•ç‹¬å¤„ç†
    cout << endl;
}

int main()
{
    int n;
    cin >> n;
    while (n -- )
    {
        int x;
        cin >> x;
        divide(x);
    }

    return 0;
}
```

### AcWing 869. è¯•é™¤æ³•æ±‚çº¦æ•°

```c++
#include <iostream>
#include <vector>
#include <algorithm>
using namespace std;
int main()
{
    int T;
    cin >> T;
    while(T--)
    {
        int n;
        cin >> n;
        vector<int> res;
        //å› ä¸ºçº¦æ•°æˆå¯¹å‡ºç°ï¼Œæ‰€ä»¥åªéœ€è¦å¾ªç¯åˆ°æ ¹å·x
        // ä¸è¦æ˜¯ç”¨ i *i <= nï¼Œå› ä¸ºå¯èƒ½æº¢å‡º
        for(int i = 1; i <= n /i; i++)
        {
            if(n % i == 0)
            {
                res.push_back(i);
                //å¦‚æœi * i = x,æ·»åŠ iå³å¯ï¼Œä¸ç”¨æ·»åŠ  x / i
                if(n / i != i)
                    res.push_back(n / i);
            }
        }
        sort(res.begin(), res.end());
        for(auto x : res) cout << x << " ";
        cout << endl;

    }
}
```

### AcWing 869. è¯•é™¤æ³•æ±‚çº¦æ•°

```c++
#include <iostream>
#include <vector>
#include <algorithm>
using namespace std;
int main()
{
    int T;
    cin >> T;
    while(T--)
    {
        int n;
        cin >> n;
        vector<int> res;
        //å› ä¸ºçº¦æ•°æˆå¯¹å‡ºç°ï¼Œæ‰€ä»¥åªéœ€è¦å¾ªç¯åˆ°æ ¹å·x
        // ä¸è¦æ˜¯ç”¨ i *i <= nï¼Œå› ä¸ºå¯èƒ½æº¢å‡º
        for(int i = 1; i <= n /i; i++)
        {
            if(n % i == 0)
            {
                res.push_back(i);
                //å¦‚æœi * i = x,æ·»åŠ iå³å¯ï¼Œä¸ç”¨æ·»åŠ  x / i
                if(n / i != i)
                    res.push_back(n / i);
            }
        }
        sort(res.begin(), res.end());
        for(auto x : res) cout << x << " ";
        cout << endl;

    }
}
```

### çº¦æ•°ä¸ªæ•°

```c++
#include <iostream>
#include <algorithm>
#include <unordered_map>
using namespace std;
const int mod = 1e9+7 ;
int main()
{
    
  
 int n; cin>>n;
 unordered_map<int, int> h;
 
 while(n--){
     int k; cin>>k;
     for(int i = 2; i <= k / i; i++){
         if(k % i == 0){
            while(k % i == 0){
                h[i]++;
                k /= i;
            }
         }
     }
     
     if(k > 1) h[k]++;
 }
 
 long long res = 1;
 for(auto m : h) res = res * (m.second + 1) % mod; 
 
 cout<<res;
 
 return 0;   
}
```

### AcWing 871. çº¦æ•°ä¹‹å’Œ 

![image-20230305124236190](/Users/xuruihang/Library/Application Support/typora-user-images/image-20230305124236190.png)

```c++
#include <iostream>
#include <algorithm>
#include <unordered_map>
#include <vector>

using namespace std;

typedef long long LL;

const int N = 110, mod = 1e9 + 7;

int main()
{
    int n;
    cin >> n;

    unordered_map<int, int> primes;

    while (n -- )
    {
        int x;
        cin >> x;

        for (int i = 2; i <= x / i; i ++ )
            while (x % i == 0)
            {
                x /= i;
                primes[i] ++ ;
            }

        if (x > 1) primes[x] ++ ;
    }

    LL res = 1;
    for (auto p : primes)
    {
        LL a = p.first, b = p.second;
        LL t = 1;//è¿™é‡Œå¿…é¡»æ˜¯long long
        while (b -- ) t = (t * a + 1) % mod;
        res = res * t % mod;
    }

    cout << res << endl;

    return 0;
}
```

### AcWing 872. æœ€å¤§å…¬çº¦æ•°

```c++
#include <iostream>
#include <algorithm>
using namespace std;
int main()
{
    int T;
    cin >> T;
    while(T--)
    {
        int a, b;
        cin >> a >> b;
        //a % b == 0ï¼Œ åˆ™bå°±æ˜¯æœ€å¤§å…¬çº¦æ•°ï¼Œå¯ä»¥æå‰ç»“æŸå¾ªç¯ã€‚
        while(a % b)
        {
            int c = a % b;
            a = b;
            b = c;
        }
        cout << b << endl;
    }
}
```

### å¿«é€Ÿå¹‚

```c++
#include<iostream>
using namespace std;

//aè¿™ä¸ªå‚æ•°å¿…ç„¶æ˜¯long long
long long qmi(long long a,int b,int p)
{
    long long res=1;
    while(b)//å¯¹bè¿›è¡ŒäºŒè¿›åˆ¶åŒ–,ä»ä½ä½åˆ°é«˜ä½
    {
        //å¦‚æœbçš„äºŒè¿›åˆ¶è¡¨ç¤ºçš„ç¬¬0ä½ä¸º1,åˆ™ä¹˜ä¸Šå½“å‰çš„a
        if(b&1) res = res *a %p;
        //bå³ç§»ä¸€ä½
        b>>=1;
        //æ›´æ–°a,aä¾æ¬¡ä¸ºa^{2^0},a^{2^1},a^{2^2},....,a^{2^logb}
        a=a*a%p;
    }
    return res;
}
int main()
{
    int n;
    cin>>n;
    while(n--)
    {
        int a,b,p;
        long long res=1;
        cin>>a>>b>>p;
        res = qmi(a,b,p);
        cout<<res<<endl;
    }
    return 0;
}
```

### æ‹“å±•æ¬§å‡ é‡Œå¾—

```c++
#include<bits/stdc++.h>
using namespace std;

void exgcd(int a, int b, int & x, int & y){
    
    if(b == 0){
        x = 1; y = 0;
        return;
    }
    exgcd(b, a % b, x, y);
    int x1 = x, y1 = y;
    x = y1, y = x1 - a / b * y1;
}


int main(){
    
    int n;cin>>n;
    
    while(n--){
        
        int a, b, x, y; cin>>a>>b;
        exgcd(a, b, x, y);
        cout<<x<<" "<<y<<endl;
    }
    return 0;
}
```

### æ±‚ç»„åˆæ•°

```c++
#include<iostream>
using namespace std;
const int mod = 1e9+7;
long long f[2010][2010];
int main()
{
    //é¢„å¤„ç†
    for(int i=0;i<=2000;i++)
    {
        for(int j=0;j<=i;j++)
        {
            if(!j) f[i][j]=1;
            else f[i][j]=(f[i-1][j-1]+f[i-1][j])%mod;
        }
    }
    int n;
    cin>>n;
    while(n--)
    {
        int a,b;
        cin>>a>>b;
        printf("%ld\n",f[a][b]);
    }
}
```

### å¿«é€Ÿæ±‚é€†å…ƒ

```c++
#include <iostream>
using namespace std;
typedef long long LL;

LL qmi(LL a, int m, int p){
    
    LL res = 1;
    while(m){
        
        if(m & 1) res = res * a % p;
        a = (a * a) % p;
        m >>= 1;
        
    }
    return res;
}


int main(){
    
    
    int n; cin>>n;
    
    while(n--){
        
        int a, p; cin>>a>>p;
        if( a % p == 0) puts("impossible");
        else cout<<qmi(a, p - 2, p)<<endl;
    }
    return 0;
}
```

### æ±‚ç»„åˆæ•° 1e5

```c++
#include<iostream>
#include<algorithm>

using namespace std;

typedef long long LL;
const int N=100010,mod=1e9+7;

LL fact[N],infact[N];//factè¡¨ç¤ºé˜¶ä¹˜,infactè¡¨ç¤ºé˜¶ä¹˜çš„é€†å…ƒ

int qmi(int a,int k,int p)
{
    int res=1;
    while(k)
    {
        if(k&1) res=(LL)res*a%p;
        a=(LL)a*a%p;
        k>>=1;
    }
    return res;
}

int main(){
    
    fact[0] = 1;
    infact[0] = 1;
    for(int i = 1; i <= 1e5; i++){
        fact[i] = (LL)fact[i - 1] * i % mod;
        infact[i] = (LL)infact[i - 1] * qmi(i, mod - 2, mod) % mod;
    }
    
    int n; cin>>n;
    while(n--){
        int a, b; cin>>a>>b;
        cout<<fact[a] * infact[b] % mod * infact[a - b] % mod<<endl;
    }
    
    return 0;
}
```



### æ±‚ç»„åˆæ•°

```c++
#include<iostream>
#include<algorithm>
#include<vector>

using namespace std;

const int N=5010;

int primes[N],cnt;
int sum[N];
bool st[N];

void get_primes(int n)
{
    for(int i=2;i<=n;i++)
    {
        if(!st[i])primes[cnt++]=i;
        for(int j=0;primes[j]*i<=n;j++)
        {
            st[primes[j]*i]=true;
            if(i%primes[j]==0)break;//==0æ¯æ¬¡æ¼
        }
    }
}
// å¯¹pçš„å„ä¸ª<=açš„æ¬¡æ•°ç®—æ•´é™¤ä¸‹å–æ•´å€æ•°
int get(int n,int p)
{
    int res =0;
    while(n)
    {
        res+=n/p;
        n/=p;
    }
    return res;
}
//é«˜ç²¾åº¦ä¹˜
vector<int> mul(vector<int> a, int b)
{
    vector<int> c;
    int t = 0;
    for (int i = 0; i < a.size(); i ++ )
    {
        t += a[i] * b;
        c.push_back(t % 10);
        t /= 10;
    }
    while (t)
    {
        c.push_back(t % 10);
        t /= 10;
    }
    // while(C.size()>1 && C.back()==0) C.pop_back();//è€ƒè™‘b==0æ—¶æ‰æœ‰popå¤šä½™çš„0 b!=0ä¸éœ€è¦è¿™è¡Œ
    return c;
}

int main()
{
    int a,b;
    cin >> a >> b;
    get_primes(a);

    for(int i=0;i<cnt;i++)
    {
        int p = primes[i];
        sum[i] = get(a,p)-get(a-b,p)-get(b,p);//æ˜¯a-bä¸æ˜¯b-a
    }

    vector<int> res;
    res.push_back(1);

    for (int i = 0; i < cnt; i ++ )
        for (int j = 0; j < sum[i]; j ++ )//primes[i]çš„æ¬¡æ•°
            res = mul(res, primes[i]);

    for (int i = res.size() - 1; i >= 0; i -- ) printf("%d", res[i]);
    puts("");

    return 0;
}
```

### èƒ½è¢«æ•´é™¤çš„æ•°

```c++
#include<iostream>
using namespace std;
typedef long long LL;

const int N = 20;
int p[N], n, m;

int main() {
    cin >> n >> m;
    for(int i = 0; i < m; i++) cin >> p[i];

    int res = 0;
    //æšä¸¾ä»1 åˆ° 1111...(mä¸ª1)çš„æ¯ä¸€ä¸ªé›†åˆçŠ¶æ€, (è‡³å°‘é€‰ä¸­ä¸€ä¸ªé›†åˆ)
    for(int i = 1; i < 1 << m; i++) {
        int t = 1;             //é€‰ä¸­é›†åˆå¯¹åº”è´¨æ•°çš„ä¹˜ç§¯
        int s = 0;             //é€‰ä¸­çš„é›†åˆæ•°é‡

        //æšä¸¾å½“å‰çŠ¶æ€çš„æ¯ä¸€ä½
        for(int j = 0; j < m; j++){
            //é€‰ä¸­ä¸€ä¸ªé›†åˆ
            if(i >> j & 1){
                //ä¹˜ç§¯å¤§äºn, åˆ™n/t = 0, è·³å‡ºè¿™è½®å¾ªç¯,è¿™ä¸€æ­¥çš„åˆ¤æ–­å¿…é¡»è¦æœ‰ï¼Œç›®å‰çŒœæµ‹çš„åŸå› æ˜¯ï¼Œå¦‚æœä¸åˆ¤æ–­ï¼Œtçš„èŒƒå›´ä¼šè¶…è¶Šï¼Œä¼šå‡ºç°ä¸€äº›å°äºnçš„æ•°å­—ï¼Œå¯¼è‡´é”™è¯¯
                if((LL)t * p[j] > n){    
                    t = -1;
                    break;
                }
                s++;                  //æœ‰ä¸€ä¸ª1ï¼Œé›†åˆæ•°é‡+1
                t *= p[j];
            }
        }

        if(t == -1) continue;  

        if(s & 1) res += n / t;              //é€‰ä¸­å¥‡æ•°ä¸ªé›†åˆ, åˆ™ç³»æ•°åº”è¯¥æ˜¯1, n/tä¸ºå½“å‰è¿™ç§çŠ¶æ€çš„é›†åˆæ•°é‡
        else res -= n / t;                      //åä¹‹åˆ™ä¸º -1
    }

    cout << res << endl;
    return 0;
}
```



### æ»‘é›ª

```c++
#include <iostream>
#include <algorithm>
#include <cstring>
using namespace std;
const int N = 310;
int n,m; //ç½‘æ ¼æ»‘é›ªåœºçš„è¡Œå’Œåˆ—
int f[N][N]; //çŠ¶æ€è½¬ç§»å¼
int h[N][N]; //ç½‘æ ¼æ»‘é›ªåœº
int dx[4] = {-1,0,1,0};
int dy[4] = {0,1,0,-1};
int vist[N][N];

int dp(int x, int y){
    
    if(vist[x][y] == 1){
        return f[x][y];
    }
    
    vist[x][y] = 1;
    f[x][y] = 1;

    for(int i = 0; i < 4; i++){
        int a = x + dx[i], b = y + dy[i];
        if(a >= 1 && a <= n && b >= 1 && b <= m && h[x][y] > h[a][b]){
             f[x][y] = max(f[x][y], dp(a, b) + 1);
        }
    }
    
    return f[x][y];


}


int main(){
    
    cin>>n>>m;
    for(int i = 1; i <= n; i++){
        for(int j = 1; j <= m; j++){
            cin>>h[i][j];
        }
    }
    
    memset(f, -1, sizeof f);
    
    int res = 0;
    for(int i = 1; i <= n; i++){
        for(int j = 1; j <= m; j++){
            res = max(res, dp(i, j));
        }
    }
    
    cout<<res;
    return 0;
    
}
```

### \92. é€’å½’å®ç°æŒ‡æ•°å‹æšä¸¾

```c++
#include<iostream>
using namespace std;

int n;
int path[15], state[15];


int main(){
    cin>>n;
    
    for(int i = 0; i < 1 << n; i++){
        for(int j = 0; j <= n; j++){
            if(i >> j & 1) cout<< j + 1<<" ";
        }
        cout<<endl;
    }
    
    return 0;
}
```

### é€’å½’å®ç°æŒ‡æ•°å‹æšä¸¾

```c++
#include <iostream>
using namespace std;

int n;
int a[20];
bool vis[20];

// å½“å‰æšä¸¾åˆ°ç¬¬posä¸ªå‘ï¼Œ ä¸Šä¸€ä¸ªå‘å¡«çš„æ˜¯start-1ï¼Œè¿™æ¬¡åªèƒ½ä»startå¼€å§‹æ‰¾æ•°å¡«ï¼Œ ä¸€å…±è¦å¡«tarä¸ªå‘
void dfs(int pos, int start, int tar) {
    if (pos == tar + 1) {
        for (int i = 1; i <= tar; i ++ ) cout << a[i] << " ";
        cout << endl;
        return ;
    }

    // é€‰æ•°å¡«å‘ï¼Œé€‰æ‹©çš„æ•°èŒƒå›´æ˜¯startï½n
    for (int i = start; i <= n; i ++) {
        if (!vis[i]) {
            vis[i] = true; a[pos] = i;
                dfs (pos + 1, i + 1, tar);
            vis[i] = false;
        }
    }
}

int main() {
    cout << endl;
    cin >> n;
    for (int i = 1; i <= n; i ++ )
        dfs(1, 1, i);
    return 0;
}
```

### é€’å½’å®ç°æŒ‡æ•°å‹æšä¸¾

```c++
#include <iostream>
using namespace std;

int main() {
    int n;
    cin >> n;
    // state æ˜¯æ¯ä¸€ä¸ªçŠ¶æ€
    for (int state = 0; state < 1 << n; state ++ ) {
        // ç”¨æŒ‡é’ˆjéå†äºŒè¿›åˆ¶æ•°stateä¸­çš„æ¯ä¸€ä½
        for (int j = 0; j < n; j ++ ) {
            if (state >> j & 1) cout << j + 1 << " ";
        }
        cout << endl;
    }
    return 0;
}
```

### é€’å½’å®ç°æŒ‡æ•°å‹æšä¸¾

```c++
#include <iostream>
using namespace std;

int n;

// uæ˜¯å½“å‰æšä¸¾åˆ°çš„æ•°ï¼Œstateæ˜¯äºŒè¿›åˆ¶æ•°è®°å½•å“ªäº›æ•°è¢«é€‰
void dfs(int u, int state) {
    if (u == n) {
        for (int i = 0; i < n; i ++)
            if (state >> i & 1)
                cout << i + 1 << " ";
            cout << endl;
        return ;
    }

    dfs (u + 1, state);  // ä¸ç”¨uè¿™ä¸ªæ•°
    dfs (u + 1, state | (1 << u)); // ç”¨uè¿™ä¸ªæ•°
}

int main() {
    cin >> n;
    dfs(0, 0);
    return 0;
}
```

### AcWing 94. é€’å½’å®ç°æ’åˆ—å‹æšä¸¾

```c++
#include<iostream>
using namespace std;
const int N = 10;
int path[N];//ä¿å­˜åºåˆ—
int state[N];//æ•°å­—æ˜¯å¦è¢«ç”¨è¿‡
int n;
void dfs(int u)
{
    if(u > n)//æ•°å­—å¡«å®Œäº†ï¼Œè¾“å‡º
    {
        for(int i = 1; i <= n; i++)//è¾“å‡ºæ–¹æ¡ˆ
            cout << path[i] << " ";
        cout << endl;
    }

    for(int i = 1; i <= n; i++)//ç©ºä½ä¸Šå¯ä»¥é€‰æ‹©çš„æ•°å­—ä¸º:1 ~ n
    {
        if(!state[i])//å¦‚æœæ•°å­— i æ²¡æœ‰è¢«ç”¨è¿‡
        {
            path[u] = i;//æ”¾å…¥ç©ºä½
            state[i] = 1;//æ•°å­—è¢«ç”¨ï¼Œä¿®æ”¹çŠ¶æ€
            dfs(u + 1);//å¡«ä¸‹ä¸€ä¸ªä½
            state[i] = 0;//å›æº¯ï¼Œå–å‡º i
        }
    }
}

int main()
{

    cin >> n;
    dfs(1);
    return 0;
}
```

### \717. ç®€å•æ–æ³¢é‚£å¥‘

```c++
#include<iostream>
using namespace std;
const int N = 50;

int n;
int dp[N];


int main(){
    
    cin>>n;
    dp[1] = 0; dp[2] = 1;
    
    for(int i = 3; i <= n; i++){
        dp[i] = dp[i - 1] + dp[i - 2];
    }
    
    for(int i = 1; i <= n; i++){
        cout<<dp[i]<<" ";
    }
    

    return 0;
}
```

### 95. è´¹è§£çš„å¼€å…³

```c++
#include<iostream>
#include<cstdio>
#include<algorithm>
#include<cstring>

using namespace std;

const int N = 6;
int dx[N] = {-1, 0, 1, 0, 0}, dy[N] = {0, 1, 0, -1, 0};
char g[N][N], backup[N][N];


// è¿™ä¸ªæ“ä½œæ˜¯æŠŠ(x, y)ä»¥åŠä¸Šä¸‹å·¦å³çš„ç¯éƒ½å˜æˆç›¸åçš„é¢œè‰²
void turn (int x, int y)
{
    for (int i = 0; i < 5; i ++ )
    {
        int a = x + dx[i], b = y + dy[i];

        //å¦‚æœåœ¨è¾¹ç•Œå¤–è¾¹ï¼Œç›´æ¥å¿½ç•¥å³å¯
        if (a < 0 || a >= 5 || b < 0 || b >= 5) continue;

        g[a][b] ^= 1;   //å¼‚æˆ–ï¼Œä¸åŒçš„æ—¶å€™å°±å˜æˆç›¸åçš„æ•°
    }

}


int main()
{
    int n;
    scanf("%d", &n);
    while(n -- )
    {
        // æŒ‰è¡Œè¾“å…¥ï¼ŒæŠŠæ¯ä¸€è¡Œå½“æˆä¸€ä¸ªå­—ç¬¦ä¸²
        for (int i = 0; i < 5; i ++ ) cin >> g[i];

        int res = 10;

        // è¿™é‡Œæˆ‘ä»¬æšä¸¾äº†ç¬¬ä¸€è¡Œçš„32ç§æŒ‰æ³•ï¼Œä¸ç”¨ç®¡æ˜¯äº®æ˜¯ç­ï¼ŒæŠŠç¬¬ä¸€è¡Œæ‰€æœ‰æƒ…å†µéƒ½æŒ‰ä¸€é
        // æŒ‰æ¯ç§æƒ…å†µçš„ç¬¬ä¸€è¡Œï¼Œå»éå†æ¥ä¸‹æ¥çš„è¡Œ
        // æšä¸¾32ç§ç¬¬ä¸€è¡Œçš„æŒ‰æ³•åªæ˜¯å¯èƒ½ä¼šå‡å°‘æ­¥æ•°ï¼Œå¦‚æœç›´æ¥ä»ç¬¬äºŒè¡Œå¼€å§‹ç­”æ¡ˆä¸€å®šæ˜¯å›ºå®šçš„äº†ï¼Œæ‰¾ä¸åˆ°æœ€ä¼˜è§£æˆ–è€…å¯èƒ½æ²¡æœ‰è§£

        for (int op = 0; op < 32; op ++ )
        {
            // æˆ‘åœ¨å¯¹è¿™ç§æƒ…å†µæ“ä½œçš„æ—¶å€™ï¼Œå¾—å…ˆå¤‡ç”¨ä¸€ä¸‹
            // æŠŠåŸå§‹æ•°ç»„å¤‡ä»½ä¸€ä¸‹ï¼Œç„¶åæ“ä½œgï¼Œæ“ä½œå®Œäº†è¿˜åŸï¼Œç„¶åå†æ“ä½œ
            memcpy(backup, g, sizeof g);

            int step = 0;

            // ç¬¬ä¸€è¡Œçš„æŒ‰æ³•(åœ¨è¿™é‡Œ 1 è¡¨ç¤ºæŒ‰äº†, 0 è¡¨ç¤ºä¸æŒ‰)ï¼Œè¿™é‡Œåªæ˜¯ä¸ºäº†è¾“å‡ºç¬¬ä¸€è¡ŒæŒ‰å®Œä¹‹åçš„çŠ¶æ€
            for (int i = 0; i < 5; i ++ )
                if (op >> i & 1)  // æ•°å­—2 å¯¹åº”äº† 00010 è¡¨ç¤ºç¬¬2ä¸ªä½ç½®çš„æŒ‰ä¸€ä¸‹
                                  // 00010 >> 1 & 1  æ˜¯1 æ‰€ä»¥turn(0, 1) å°±æ˜¯ç¬¬ä¸€è¡Œç¬¬äºŒä¸ªä½ç½®
                {                 // æ•°å­—3 å¯¹åº”äº†00011 è¡¨ç¤ºç¬¬1 å’Œç¬¬2ä¸ªä½ç½®çš„æŒ‰ä¸€ä¸‹
                    step ++ ;
                    turn (0, i);;
                }

            // ç„¶åé€šè¿‡ç¬¬ä¸€è¡ŒæŒ‰å®Œä¹‹åçš„çŠ¶æ€ï¼ŒæŒ‰234è¡Œ
            for (int i =0; i < 4; i ++ )
                for (int j = 0; j < 5;j ++ )
                    if (g[i][j] == '0')
                    {
                        step ++;
                        turn (i + 1, j);  // å¦‚æœè¿™ä¸ªä½ç½®æ˜¯ç­çš„ï¼Œå°±æŒ‰ä¸‹ä¸€è¡Œå¯¹åº”çš„ä½ç½®
                    }

            bool dark = false;
            for (int j = 0; j < 5; j ++ )
                if (g[4][j] == '0')
                {
                    dark = true;
                    break;
                }


            // å¯¹äº32ç§æƒ…å†µçš„è¿™ä¸€ç§ï¼Œå¦‚æœæ‰€æœ‰çš„å…¨äº®å°±è®°å½•ä¸‹æ­¥æ•°(äº‹å®ä¸Šåªè®°å½•äº†æœ€åä¸€è¡Œæ˜¯å¦dark)
            if (!dark) res = min(res, step);
            memcpy (g, backup, sizeof g);
        }

        if(res > 6) res = -1;
        cout << res << endl;

    }
    return 0;
}
```

### å¸¦åˆ†æ•°

```c++
#include <iostream>

using namespace std;

const int N = 10;

int target;  // é¢˜ç›®ç»™å‡ºçš„ç›®æ ‡æ•°
int num[N];  // ä¿å­˜å…¨æ’åˆ—çš„ç»“æœ
bool used[N];  // ç”Ÿæˆå…¨æ’åˆ—è¿‡ç¨‹ä¸­æ ‡è®°æ˜¯å¦ä½¿ç”¨è¿‡
int cnt;  // è®¡æ•°ï¼Œæœ€åè¾“å‡ºçš„ç»“æœ

// è®¡ç®—numæ•°ç»„ä¸­ä¸€æ®µçš„æ•°æ˜¯å¤šå°‘
int calc(int l, int r) {
  int res = 0;
  for (int i = l; i <= r; i++) {
    res = res * 10 + num[i];
  }
  return res;
}

// ç”Ÿæˆå…¨æ’åˆ—
// å½“å…¨æ’åˆ—ç”Ÿæˆåè¿›è¡Œåˆ†æ®µ
void dfs(int u) {
  // ç”¨ä¸¤å±‚å¾ªç¯åˆ†æˆä¸‰æ®µ
  if (u == 9) {
    for (int i = 0; i < 7; i++) {
      for (int j = i + 1; j < 8; j++) {
        int a = calc(0, i);
        int b = calc(i + 1, j);
        int c = calc(j + 1, 8);
        // æ³¨æ„åˆ¤æ–­æ¡ä»¶ï¼Œå› ä¸ºC++ä¸­é™¤æ³•æ˜¯æ•´é™¤ï¼Œæ‰€ä»¥è¦è½¬åŒ–ä¸ºåŠ å‡ä¹˜æ¥è®¡ç®—
        if (a * c + b == c * target) {
          cnt++;
        }
      }
    }
    return;
  }
  // æœç´¢æ¨¡æ¿
  for (int i = 1; i <= 9; i++) {
    if (!used[i]) {
      used[i] = true; // æ ‡è®°ä½¿ç”¨
      num[u] = i;
      dfs(u + 1);
      used[i] = false; // è¿˜åŸç°åœº
    }
  }
}

int main() {
  scanf("%d", &target);
  dfs(0);
  printf("%d\n", cnt);
  return 0;
}
```

### å¸¦åˆ†æ•°

```c++
#include <bits/stdc++.h>

using namespace std;

const int N = 10;

int target;
int num[N];

int calc(int l, int r) {
  int res = 0;
  for (int i = l; i <= r; i++) {
    res = res * 10 + num[i];
  }
  return res;
}

int main() {
  cin >> target;
  for (int i = 0; i < 9; i++) {
    num[i] = i + 1;
  }
  int res = 0;
  do {
    for (int i = 0; i < 9; i++) {
      for (int j = i + 1; j < 9; j++) {
        int a = calc(0, i);
        int b = calc(i + 1, j);
        int c = calc(j + 1, 8);
        if (a == 0 || b == 0 || c == 0) {
          continue;
        }
        if (a * c + b == c * target) {
          ++res;
        }
      }
    }
    // è°ƒç”¨å‡½æ•°ç”Ÿæˆå…¨æ’åˆ—
  } while (next_permutation(num, num + 9));
  cout << res << '\n';
  return 0;
}
```

### é£è¡Œå‘˜å…„å¼Ÿ

```c++
#include<iostream>
#include<cstring>
#include<cstdio>
#include<vector>
#include<algorithm>

//è¿™ä¸ªå®å®šä¹‰å…¶å®ä¹Ÿå°±æœ€åè¾“å‡ºçš„æ—¶å€™åº”ç”¨äº†ï¼ˆå¦‚æœæˆ‘æ²¡çŒœé”™çš„è¯ï¼‰ï¼Œä½†æ˜¯yæ€»çš„ä¹ æƒ¯å°±æ˜¯å¥½ä¹ æƒ¯ï¼
#define x first
#define y second

using namespace std;

typedef pair<int,int> PII;

const int N=5;

char g[N][N],backup[N][N];


//æ˜ å°„å‡½æ•°
int get(int x,int y)
{
    return x*4+y;//è¿”å›ç¬¬xè¡Œç¬¬yåˆ—ä¸Šçš„æ•°æ˜¯å¤šå°‘
}

void turn_one(int x,int y)
{
    if(g[x][y]=='+') g[x][y]='-';
    else g[x][y]='+';
}

void turn_all(int x,int y)
{
    for(int i=0;i<4;i++)
    {
        turn_one(x,i);
        turn_one(i,y);
    }
    turn_one(x,y);

}

int main()
{
    for(int i=0;i<4;i++)
        for(int j=0;j<4;j++)
            cin>>g[i][j];

    vector<PII> res;//è¿™æ˜¯è®°å½•æ–¹æ¡ˆæ‰€éœ€è¦çš„ç»“æ„

    //æšä¸¾æ‰€æœ‰çš„æ–¹æ¡ˆ
    for(int op=0;op<1<<16;op++)
    {
        vector<PII> temp;//tempé‡Œé¢å­˜çš„æ˜¯æ–¹æ¡ˆ
        //å…ˆå¤‡ä»½ä¸€ä¸‹ï¼Œä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºè¿™åˆä¸æ˜¯æœ€ç»ˆæ–¹æ¡ˆï¼Œæˆ‘ä»¬è¦æŠŠæ‰€æœ‰æ–¹æ¡ˆéƒ½è¯•ä¸€éï¼Œæ±‚æœ€å°‘çš„
        memcpy(backup,g,sizeof g);

        //æšä¸¾16ä¸ªä½ç½®,è¿›è¡Œæ“ä½œ
        for(int i=0;i<4;i++)
            for(int j=0;j<4;j++)
                if(op>>get(i,j)&1) //å¦‚æœå½“å‰ä½ç½®æ˜¯1çš„è¯--getçš„ä½œç”¨å°±æ˜¯è¿”å›äºŒè¿›åˆ¶æ•°ä¸­é‚£ä¸€ä½æ˜¯ç¬¬å‡ ä½ï¼Œä»è€Œåˆ¤æ–­æ˜¯å¦ä¸º1
                {
                    temp.push_back({i,j});
                    //æŒ‰ä¸€ä¸‹å¼€å…³
                    turn_all(i,j);
                }


        //åˆ¤æ–­æ‰€æœ‰ç¯æ³¡æ˜¯å¦å…¨äº®
        bool has_closed=false;
        for(int i=0;i<4;i++)
            for(int j=0;j<4;j++)
                if(g[i][j]=='+') has_closed=true;

        if(has_closed==false)
        {
            //å¦‚æœæ–¹æ¡ˆä¸ºç©ºæˆ–è€…ä»–çš„æ“ä½œæ•°å¤§äºæˆ‘ä»¬åˆšå­˜å¥½çš„æ–°çš„æ–¹æ¡ˆï¼Œé‚£ä¹ˆå°±ä¿®æ”¹å®ƒ
            if(res.empty()||res.size()>temp.size()) res=temp;
        }
        //è¿˜åŸå›æ¥ï¼Œä¾›ä¸‹ä¸€ä¸ªæ–¹æ¡ˆæ“ä½œ
        memcpy(g,backup,sizeof g);
    }
    //å› ä¸ºæ²¡è¯´æ— è§£ï¼Œæ‰€ä»¥å¯ä»¥çŒœæƒ³ä¸€ä¸‹ä¸€å®šæœ‰è§£
    cout<<res.size()<<endl;
    //è¿™é‡Œçš„è¿­ä»£å‡½æ•°å°±æ˜¯ä¸€ç§ç®€ä¾¿å†™æ³•ï¼Œä¸è¦è¯¯è§£
    //å¦å¤–åŸé¢˜ä¸‹æ ‡ä»1å¼€å§‹ï¼Œæ‰€ä»¥ä¸‹é¢åŠ 1äº†
    for(auto op:res) cout<<op.x+1<<" "<<op.y+1<<endl;

    return 0;
}
```

### ç¿»ç¡¬å¸

```c++
//cpp
#include <iostream>
#include <string>
using namespace std;
const int N = 110;//ç”¨ä¸åˆ°ï¼Œçœ‹èŒƒå›´å°±ç›´æ¥å†™äº†

int main()
{
    string s1, s2;//s1:åˆå§‹çŠ¶æ€ï¼Œs2:ç›®æ ‡çŠ¶æ€
    int cnt = 0;//è®°å½•ç¿»è½¬æ¬¡æ•°
    cin >> s1 >> s2;
    for (int i = 0; i < s1.size() - 1; i++)
    {
        if (s1[i] != s2[i])//ç¬¬ i ä¸ªä½ç½®ä¸ŠçŠ¶æ€ä¸åŒï¼Œå°±ç¿»è½¬è¯¥ä½ç½®å’Œåä¸€ä¸ªä½ç½®ç¡¬å¸
        {
            cnt++;//ç¿»è½¬ä¸€æ¬¡ç¡¬å¸
            if (s1[i] == '*') s1[i] = 'o';//ç¿»è½¬ i ä½ç½®ä¸Šçš„ç¡¬å¸
            else s1[i] = '*';
            if (s1[i+1] == 'o') s1[i+1] = '*';//ç¿»è½¬ i + 1 ä½ç½®ä¸Šçš„ç¡¬å¸
            else s1[i+1] = 'o';
        }
    }
    cout << cnt;//è¾“å‡ºç¿»è½¬æ¬¡æ•°
}
```

### äºŒåˆ†æ¨¡æ¿

```c++
int L=-1,R=n;
while(L+1!=R)
{
	int mid=L+R>>1;
	if(check()) L=mid;
	else R=mid;
	//æœ€åæ ¹æ®ä½ æ‰€åˆ†å·¦å³ä¸¤è¾¹åŒºé—´çš„ç»“æœ
	//é€‰å–Læˆ–è€…Rä½œä¸ºç»“æœ
}

```

![image-20230314162912396](/Users/xuruihang/Library/Application Support/typora-user-images/image-20230314162912396.png)

### æ•°çš„èŒƒå›´

```c++
#include<iostream>
using namespace std;
const int N=1e5+5;
int n, m, q[N];
int main()
{
    
    cin>>n>>m;
    
    for(int i = 0; i < n; i++) cin>>q[i];
    
    while(m--){
        
        int k; cin>>k;
        int l = -1, r = n;
        
        while(l + 1 != r){
            int mid = l + r >> 1;
            if(q[mid] >= k) r = mid;//å³åŠéƒ¨åˆ†å¤§äºk
            else l = mid;
        }
        
        if(q[r] != k) cout<<"-1 -1"<<endl;
        else{
            cout<<r<<" ";
            
            int l = -1, r = n;
        
            while(l + 1 != r){
                int mid = l + r >> 1;
                if(q[mid] <= k) l = mid;//å·¦åŠéƒ¨åˆ†å°äºk
                else r = mid;
            }
            
            cout<<l<<endl;
            
        }
    }
    return 0;   
}
```

### å››æ¬¡æ–¹ï¼Œæ‹‰æ ¼æœ—æ—¥

```c++
//å››å¹³æ–¹å’Œ
//æ¨¡æ‹Ÿå“ˆå¸Œè¡¨
#include<bits/stdc++.h>

using namespace std;

typedef pair<int,int> PII;

const int N = 5e6 + 10;

int n;
int r[N * 2];//å°æŠ€å·§ï¼Œé¿å…pairï¼Œr[c^2+d^2]=c;å¯ä»¥æ¨å¯¼å‡ºd

int main()
{
    cin >> n;

    memset(r, -1, sizeof r);

    for(int c = 0; c * c <= n; c++)
    {
        for(int d = c; c * c + d * d <= n; d++)
        {
            int t = c * c + d * d;
            if(r[t] == -1)
            {
                r[t] = c;
            }
        }
    }

    for(int a = 0; a * a <= n; a ++)
    {
        for(int b = a; a * a + b * b <= n; b++)
        {
            int t = n - a * a - b * b;
            int c = r[t];
            if(r[t] == -1) continue;
            int d = sqrt(t - c * c);
            printf("%d %d %d %d\n", a, b, c, d);
            return 0;
        }
    }
    return 0;
}
```

### 730. æœºå™¨äººè·³è·ƒé—®é¢˜

```c++
#include<bits/stdc++.h>
using namespace std;
const int N=100010;
int num[N];
int n;
int main(){
    cin>>n;
    for(int i=0;i<n;i++)cin>>num[i];
    int res = 0;
        for(int i = n - 1; i >= 0; i--){
            if((num[i] + res) % 2 == 0)
                res = (num[i] + res) / 2;
            else
                res = (num[i] + res) / 2 + 1;
        }
    cout<<res<<endl;
}
```

```c++
#include<iostream>using namespace std;const int N = 1e5 + 10;int n;int q[N];bool check(int e){    for(int i = 0; i < n; i++){        e = 2 * e - q[i];        if(e > 1e5) return true;        if(e < 0){            return false;        } //å‡åºé˜Ÿåˆ—
priority_queue <int,vector<int>,greater<int> > q;
//é™åºé˜Ÿåˆ—
priority_queue <int,vector<int>,less<int> >q;            }    return true;    }int main(){    cin>>n;    for(int i = 0; i < n; i++) scanf("%d", &q[i]);        int l = -1, r = 1e5;    while(l + 1 != r){                int mid = (l + r) >> 1;        if(check(mid)) r = mid;        else l = mid;            }        cout<<r;    return 0;}
```

### åˆ†å·§å…‹åŠ›

```c++
#include <iostream>
#include <algorithm>

using namespace std;

const int N = 100010;

int n, k;  // æœ‰nå—å·§å…‹åŠ›ï¼Œkä¸ªå°æœ‹å‹
int wid[N], len[N];  // åˆ†åˆ«ä¿å­˜å·§å…‹åŠ›çš„é•¿å’Œå®½

// è®¡ç®—å½“æ­£æ–¹å½¢çš„è¾¹é•¿ä¸ºuæ—¶ï¼Œæ€»å…±èƒ½åˆ†å¾—å¤šå°‘å—å·§å…‹åŠ›
int get_sum(int u) {
  int sum = 0;
  for (int i = 0; i < n; i++) {
    // è¦çš„å°±æ˜¯æ•´é™¤
    sum += ((wid[i] / u) * (len[i] / u));
  }
  return sum;
}

int main() {
  scanf("%d%d", &n, &k);
  for (int i = 0; i < n; i++) {
    scanf("%d%d", &wid[i], &len[i]);
  }
  // äºŒåˆ†æ¨¡æ¿
  // æŒ‰ç…§yæ€»æ‰€åˆ†æçš„ï¼Œæˆ‘è¿™é‡Œæ‰€å–çš„æ€§è´¨æ˜¯â€œå½“è¾¹é•¿å–midæ—¶ï¼Œèƒ½å¤Ÿåˆ†å¾—kå—å·§å…‹åŠ›â€
  // æ˜¾ç„¶åœ¨ä¸€ä¸ªæ•°è½´ä¸Šï¼Œç›®æ ‡å€¼çš„å·¦ä¾§ï¼ˆæ¯”ç›®æ ‡å€¼å°çš„æ•°ï¼‰éƒ½æ˜¯æ»¡è¶³è¿™ä¸ªæ€§è´¨çš„ï¼Œå³è¾¹åˆ™ä¸æ»¡è¶³
  // æ‰€ä»¥æˆ‘ä»¬è¦æ‰¾çš„å€¼æ˜¯æ»¡è¶³è¿™ä¸ªæ€§è´¨çš„æœ€å³ç«¯
  // å¦‚æœå½“å‰å–çš„midæ»¡è¶³è¿™ä¸ªæ€§è´¨ï¼Œé‚£ä¹ˆlæœ‰å¯èƒ½å°±æ˜¯æˆ‘ä»¬è¦æ‰¾çš„ç›®æ ‡å€¼ï¼Œæ‰€ä»¥ç”¨l = midæ¥æ›´æ–°
  // ç»¼ä¸Šæ‰€è¿°ï¼Œç”¨ä»¥ä¸‹æ¨¡æ¿
  int l = 0, r = N;
  while (l < r) {
    int mid = (l + r + 1) >> 1;
    if (get_sum(mid) >= k) {
      l = mid;
    } else {
      r = mid - 1;
    }
  }
  printf("%d\n", l);
  return 0;
}
```

### ç‚¸å¼¹

```c++
#include <iostream>

using namespace std;

#define N 5002
int f[N][N];

int main() {

    int n, r;
    int max_x, max_y;
    int x = 0, y = 0, w = 0;
    cin >> n >> r;
    r = min(r, 5001); // çˆ†ç‚¸èŒƒå›´è¶…è¿‡5001æ—¶è¦†ç›–äº†æ‰€æœ‰ç›®æ ‡èŒƒå›´ï¼Œå› æ­¤æ²¡å¿…è¦è€ƒè™‘è¶…å‡ºèŒƒå›´ã€‚
    max_x = max_y = r;// æœ€å°çš„çˆ†ç‚¸è®¡ç®—èŒƒå›´æ˜¯åœ¨ä¸€ä¸ªæœ€å°çˆ†ç‚¸èŒƒå›´ä¹‹å†…è®¡ç®—
    for (int i = 0; i < n; ++i) {
        cin >> x >> y >> w;
        f[++x][++y] += w; // å°†ç›®æ ‡èŒƒå›´ç»Ÿä¸€åç§»1ï¼Œä¾¿äºè¾¹ç•Œè®¡ç®—ã€‚
        max_x = max(x, max_x); // å¦‚æœæœ‰ç›®æ ‡è½åœ¨ä¸€ä¸ªæœ€å°çˆ†ç‚¸èŒƒå›´ä¹‹å¤–ï¼Œåˆ™æ‰©å¤§è®¡ç®—èŒƒå›´ã€‚
        max_y = max(y, max_y);
    }
    // ä¸‹é¢ä¸¤ä¸ªå¾ªç¯çš„è®¡ç®—å…¬å¼éƒ½éœ€è¦è‡ªå·±ç”¨æ‰‹ç”»ä¸€ä¸‹ï¼Œæ‰èƒ½è·å¾—åˆ©ç”¨äºŒç»´å‰ç¼€å’Œè®¡ç®—æ€»ä»·å€¼çš„ç»“æœ
    for (int i = 1; i <= max_x; ++i) { // å¾ªç¯ä»åç§»çš„1å¼€å§‹
        for (int j = 1; j <= max_y; ++j) {
            f[i][j] = f[i - 1][j] + f[i][j - 1] - f[i - 1][j - 1] + f[i][j];
        }
    }

    int ans = 0;
    for (int i = r; i <= max_x; ++i) {
        for (int j = r; j <= max_y; ++j) {
            ans = max(ans, f[i][j] - f[i - r][j] - f[i][j - r] + f[i - r][j - r]);
        }
    }

    cout << ans << endl;

    return 0;
} 
```

### æœ€å¤§ä¸èƒ½å‡‘æˆçš„æ•°

```c++
#include <iostream>
#include <algorithm>
using namespace std;
int n, m, minn, maxx, ans;
bool dp[1000000];
int main() {
    cin >> n >> m;
    dp[0] = true;
    minn = min(n, m);
    maxx = max(n, m);
    for (int i = minn; i < n * m; i++) {
        if (dp[i - minn]) {
            dp[i] = true;
        } else if (i >= maxx && dp[i - maxx]) {
            dp[i] = true;
        } else {
            ans = i;
        }
    }
    
    if(n == 2 && m == 3) cout<<1<<endl;
    else cout << ans;
    return 0;
}
```

```c++
#include <iostream>

using namespace std;

//ç»™å®šä¸€ä¸ªmï¼Œæ˜¯å¦èƒ½ç”¨på’Œqå‡‘å‡ºæ¥
bool dfs(int m,int p,int q)
{
    if(m == 0) return true;

    if(m >= p && dfs(m - p,p,q)) return true;
    if(m >= q && dfs(m - q,p,q)) return true;

    return false;
}

int main()
{
    int p,q;
    cin >> p >> q;
    int res = 0;
    for(int i = 1; i <= 1000;i ++)
    {
        if(!dfs(i,p,q)) res = i;
    }

    cout << res << endl;

    return 0;
}
```

### æœ€é•¿ä¸Šå‡å­åºåˆ—

```c++
#include <iostream>

using namespace std;

const int N = 1010;

int n;
int w[N], f[N];

int main() {
    cin >> n;
    for (int i = 0; i < n; i++) cin >> w[i];

    int mx = 1;    // æ‰¾å‡ºæ‰€è®¡ç®—çš„f[i]ä¹‹ä¸­çš„æœ€å¤§å€¼ï¼Œè¾¹ç®—è¾¹æ‰¾
    for (int i = 0; i < n; i++) {
        f[i] = 1;    // è®¾f[i]é»˜è®¤ä¸º1ï¼Œæ‰¾ä¸åˆ°å‰é¢æ•°å­—å°äºè‡ªå·±çš„æ—¶å€™å°±ä¸º1
        for (int j = 0; j < i; j++) {
            if (w[i] > w[j]) f[i] = max(f[i], f[j] + 1);    // å‰ä¸€ä¸ªå°äºè‡ªå·±çš„æ•°ç»“å°¾çš„æœ€å¤§ä¸Šå‡å­åºåˆ—åŠ ä¸Šè‡ªå·±ï¼Œå³+1
        }
        mx = max(mx, f[i]);
    }

    cout << mx << endl;
    return 0;
}
```

### åœ°å®«æ¢å®

```c++
#include <iostream>
#include <algorithm>

using namespace std;

const int N = 55;
const int M = 15;
const int MOD = 1e9 + 7;

int n, m, c;
int a[N][N];
// f[i][j][cnt][k] è¡¨ç¤ºï¼šåœ¨ (i, j) è¿™ä¸ªç‚¹ï¼Œæ‹¿äº† cnt ä¸ªç‰©å“ï¼Œè¿™äº›ç‰©å“ä¸­ä»·å€¼æœ€å¤§çš„æ˜¯ k
int f[N][N][M][M];

int main() {
  scanf("%d%d%d", &n, &m, &c);
  for (int i = 1; i <= n; i++) {
    for (int j = 1; j <= m; j++) {
      scanf("%d", &a[i][j]);
      a[i][j]++;
    }
  }
  // ä¸¤ä¸ªè¾¹ç•Œåˆå§‹åŒ–
  // åœ¨èµ·ç‚¹ (1, 1) å¤„
  // å¦‚æœæ‹¿ä¹Ÿåªèƒ½æ‹¿ a[i][j] è¿™ä¸ªç‰©å“ï¼Œåªæœ‰ä¸€ç§æ–¹æ¡ˆ
  // å¦‚æœä¸æ‹¿ï¼Œé‚£å°±æ˜¯ 0 ä¸ªç‰©å“ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªæ–¹æ¡ˆæ•°
  // ç”±äºç‰©å“ä»·å€¼å·²ç»å¢åŠ äº†ä¸€ä¸ªåç§»é‡ï¼Œç°åœ¨ä»·å€¼çš„èŒƒå›´æ˜¯ [1, 13]
  // æ‰€ä»¥ä»·å€¼ä¸º 0 å¹¶ä¸ä»£è¡¨ç‰©å“çš„ä»·å€¼ï¼Œè€Œæ˜¯ä¸€ä¸ªè¾¹ç•Œç‚¹
  f[1][1][0][0] = 1;
  f[1][1][1][a[1][1]] = 1;
  for (int i = 1; i <= n; i++) {
    for (int j = 1; j <= m; j++) {
      for (int cnt = 0; cnt <= c; cnt++) {
        for (int k = 0; k < M; k++) {
          // ä¸æ‹¿ç‰©å“
          f[i][j][cnt][k] = (f[i][j][cnt][k] + f[i - 1][j][cnt][k]) % MOD;
          f[i][j][cnt][k] = (f[i][j][cnt][k] + f[i][j - 1][cnt][k]) % MOD;
          // å¯ä»¥æ‹¿
          if (cnt > 0 && k == a[i][j]) {
            for (int s = 0; s < a[i][j]; s++) {
              f[i][j][cnt][k] = (f[i][j][cnt][k] + f[i - 1][j][cnt - 1][s]) % MOD;
              f[i][j][cnt][k] = (f[i][j][cnt][k] + f[i][j - 1][cnt - 1][s]) % MOD;
            }
          }
        }
      }
    }
  }
  // æœ€åæŠŠåœ¨ç»ˆç‚¹ (n, m) å¤„æ‹¿ c ä¸ªç‰©å“çš„æ–¹æ¡ˆæ•°ç´¯åŠ 
  int res = 0;
  for (int i = 1; i < M; i++) {
    res = (res + f[n][m][c][i]) % MOD;
  }
  printf("%d\n", res);
  return 0;
}
```

### é€’å¢3å…ƒç»„

```c++
#include <iostream>
#include <cstdio>
#include <algorithm>
using namespace std;

typedef long long LL;
const int N = 1e5+10;
int a[N], b[N], c[N];


int main(){
    
    int n;
    cin>>n;
    
    for(int i = 1; i <= n; i++) scanf("%d", &a[i]);
    sort(a + 1, a + 1 + n);
    for(int i = 1; i <= n; i++) scanf("%d", &b[i]);
    sort(b + 1, b + 1 + n);
    for(int i = 1; i <= n; i++) scanf("%d", &c[i]);
    sort(c + 1, c + 1 + n);
    
    LL ans = 0;
    
    for(int i = 1; i <= n; i++){
        
        int key = b[i];
        
        //åœ¨aä¸­æ‰¾åˆ°æ°å¥½å°äºkeyçš„æ•°çš„åæ ‡
        int pos1 = lower_bound(a + 1, a + n + 1, key) - a - 1; //å› ä¸ºæŸ¥æ‰¾åˆ°çš„æ˜¯ç­‰äºkeyçš„ï¼Œæ‰€ä»¥è¦å‡1
        //åœ¨cä¸­æ‰¾åˆ°æ°å¥½å¤§äºkeyçš„æ•°çš„åæ ‡
        int pos2 = upper_bound(c + 1, c + n + 1, key) - c;
        
        ans += (LL)(n - pos2 + 1) * (pos1);
        
    }
    
    cout<<ans;
    return 0;
}
```

```c++
//å‰ç¼€å’Œ
#include <iostream>
#include <cstdio>

using namespace std;

typedef long long LL;
const int N = 1e5+10;
int A[N], B[N], C[N];
int cnta[N], cntc[N], sa[N], sc[N];

int main() {
    int n;
    scanf("%d", &n);
    //è·å–æ•°iåœ¨Aä¸­æœ‰cntc[i]ä¸ªï¼Œå¹¶å¯¹cntæ±‚å‰ç¼€å’Œsa
    for(int i = 1; i <= n; ++i) {
        scanf("%d", &A[i]);
        cnta[++A[i]]++;
    }
    sa[0] = cnta[0];
    for(int i = 1; i < N; ++i) sa[i] = sa[i-1]+cnta[i];
    //Båªè¯»å–å³å¯
    for(int i = 1; i <= n; ++i) scanf("%d", &B[i]), B[i]++;

    //è·å–æ•°iåœ¨Cä¸­æœ‰cntc[i]ä¸ªï¼Œå¹¶å¯¹cntæ±‚å‰ç¼€å’Œsc
    for(int i = 1; i <= n; ++i) {
        scanf("%d", &C[i]);
        cntc[++C[i]]++;
    }
    sc[0] = cntc[0];
    for(int i = 1; i < N; ++i) sc[i] = sc[i-1]+cntc[i]; 

    //éå†Bæ±‚è§£
    LL ans = 0;
    for(int i = 1; i <= n; ++i) {
        int b = B[i];
        ans += (LL)sa[b-1] * (sc[N-1] - sc[b]);
    }
    cout<<ans<<endl;
    return 0;
}
```

### çº¿æ®µğŸŒ²

```c++
#include<iostream>
#include<cstring>
#include<cstdio>
#include<algorithm>

using namespace std;

const int N=100010;

int n,m;

int w[N];//è®°å½•ä¸€ä¸‹æƒé‡

struct node{
    int l,r;//å·¦å³åŒºé—´

    int sum;//æ€»å’Œ
}tr[N*4];//è®°å¾—å¼€ 4 å€ç©ºé—´

void push_up(int u)//åˆ©ç”¨å®ƒçš„ä¸¤ä¸ªå„¿å­æ¥ç®—ä¸€ä¸‹å®ƒçš„å½“å‰èŠ‚ç‚¹ä¿¡æ¯
{
    tr[u].sum=tr[u<<1].sum+tr[u<<1|1].sum;//å·¦å„¿å­ u<<1 ,å³å„¿å­ u<<1|1  
}

void build(int u,int l,int r)/*ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå½“å‰èŠ‚ç‚¹ç¼–å·ï¼Œç¬¬äºŒä¸ªå‚æ•°ï¼Œå·¦è¾¹ç•Œï¼Œç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œå³è¾¹ç•Œ*/
{
    if(l==r)tr[u]={l,r,w[r]};//å¦‚æœå½“å‰å·²ç»æ˜¯å¶èŠ‚ç‚¹äº†ï¼Œé‚£æˆ‘ä»¬å°±ç›´æ¥èµ‹å€¼å°±å¯ä»¥äº†
    else//å¦åˆ™çš„è¯ï¼Œè¯´æ˜å½“å‰åŒºé—´é•¿åº¦è‡³å°‘æ˜¯ 2 å¯¹å§ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦æŠŠå½“å‰åŒºé—´åˆ†ä¸ºå·¦å³ä¸¤ä¸ªåŒºé—´ï¼Œé‚£å…ˆè¦æ‰¾è¾¹ç•Œç‚¹
    {
        tr[u]={l,r};//è¿™é‡Œè®°å¾—èµ‹å€¼ä¸€ä¸‹å·¦å³è¾¹ç•Œçš„åˆå€¼

        int mid=l+r>>1;//è¾¹ç•Œçš„è¯ç›´æ¥å»è®¡ç®—ä¸€ä¸‹ l + r çš„ä¸‹å–æ•´

        build(u<<1,l,mid);//å…ˆé€’å½’ä¸€ä¸‹å·¦å„¿å­

        build(u<<1|1,mid+1,r);//ç„¶åé€’å½’ä¸€ä¸‹å³å„¿å­

        push_up(u);//åšå®Œä¸¤ä¸ªå„¿å­ä¹‹åçš„è¯å‘¢ push_up ä¸€éu å•Šï¼Œæ›´æ–°ä¸€ä¸‹å½“å‰èŠ‚ç‚¹ä¿¡æ¯
    }
}

int query(int u,int l,int r)//æŸ¥è¯¢çš„è¿‡ç¨‹æ˜¯ä»æ ¹ç»“ç‚¹å¼€å§‹å¾€ä¸‹æ‰¾å¯¹åº”çš„ä¸€ä¸ªåŒºé—´
{
    if(l<=tr[u].l&&tr[u].r<=r)return tr[u].sum;//å¦‚æœå½“å‰åŒºé—´å·²ç»å®Œå…¨è¢«åŒ…å«äº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç›´æ¥è¿”å›å®ƒçš„å€¼å°±å¯ä»¥äº†
    //å¦åˆ™çš„è¯æˆ‘ä»¬éœ€è¦å»é€’å½’æ¥ç®—
    int mid=tr[u].l+tr[u].r>>1;//è®¡ç®—ä¸€ä¸‹æˆ‘ä»¬ å½“å‰ åŒºé—´çš„ä¸­ç‚¹æ˜¯å¤šå°‘
    //å…ˆåˆ¤æ–­ä¸€ä¸‹å’Œå·¦è¾¹æœ‰æ²¡æœ‰äº¤é›†

    int sum=0;//ç”¨ sum æ¥è¡¨ç¤ºä¸€ä¸‹æˆ‘ä»¬çš„æ€»å’Œ

    if(mid>=l)sum+=query(u<<1,l,r);//çœ‹ä¸€ä¸‹æˆ‘ä»¬å½“å‰åŒºé—´çš„ä¸­ç‚¹å’Œå·¦è¾¹æœ‰æ²¡æœ‰äº¤é›†
    if(r>=mid+1)//çœ‹ä¸€ä¸‹æˆ‘ä»¬å½“å‰åŒºé—´çš„ä¸­ç‚¹å’Œå³è¾¹æœ‰æ²¡æœ‰äº¤é›†
    sum+=query(u<<1|1,l,r);

    return sum;

}

void modify(int u,int x,int v)//ç¬¬ä¸€ä¸ªå‚æ•°ä¹Ÿå°±æ˜¯å½“å‰èŠ‚ç‚¹çš„ç¼–å·,ç¬¬äºŒä¸ªå‚æ•°æ˜¯è¦ä¿®æ”¹çš„ä½ç½®ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯è¦ä¿®æ”¹çš„å€¼
{
    if(tr[u].l==tr[u].r)tr[u].sum+=v; //å¦‚æœå½“å‰å·²ç»æ˜¯å¶èŠ‚ç‚¹äº†ï¼Œé‚£æˆ‘ä»¬å°±ç›´æ¥è®©ä»–çš„æ€»å’ŒåŠ ä¸Š v å°±å¯ä»¥äº†

    //å¦åˆ™
    else
    {

      int mid=tr[u].l+tr[u].r>>1;
      //çœ‹ä¸€ä¸‹ x æ˜¯åœ¨å·¦åŠè¾¹è¿˜æ˜¯åœ¨å³åŠè¾¹
      if(x<=mid)modify(u<<1,x,v);//å¦‚æœæ˜¯åœ¨å·¦åŠè¾¹ï¼Œé‚£å°±æ‰¾å·¦å„¿å­
      else modify(u<<1|1,x,v);//å¦‚æœåœ¨å³åŠè¾¹ï¼Œé‚£å°±æ‰¾å³å„¿å­

      //æ›´æ–°å®Œä¹‹åå½“å‰èŠ‚ç‚¹çš„ä¿¡æ¯å°±è¦å‘ç”Ÿå˜åŒ–å¯¹å§ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±éœ€è¦ pushup ä¸€é

      push_up(u);
    }

}

int main()
{
    scanf("%d%d",&n,&m);

    for(int i=1;i<=n;i++)scanf("%d",&w[i]);

    build(1,1,n);/*ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ ¹èŠ‚ç‚¹çš„ä¸‹æ ‡ï¼Œæ ¹èŠ‚ç‚¹æ˜¯ä¸€å·ç‚¹ï¼Œç„¶ååˆå§‹åŒºé—´æ˜¯ 1 åˆ° n */

    //åé¢çš„è¯å°±æ˜¯ä¸€äº›ä¿®æ”¹æ“ä½œäº†

    while(m--)
    {
        int k,a,b;

        scanf("%d%d%d",&k,&a,&b);

        if(!k)printf("%d\n",query(1,a,b));//æ±‚å’Œçš„æ—¶å€™ï¼Œä¹Ÿæ˜¯ä¼ ä¸‰ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªçš„è¯æ˜¯æ ¹èŠ‚ç‚¹çš„ç¼–å· ï¼Œç¬¬äºŒä¸ªçš„è¯æ˜¯æˆ‘ä»¬æŸ¥è¯¢çš„åŒºé—´ 
        //ç¬¬ä¸€ä¸ªå‚æ•°ä¹Ÿå°±æ˜¯å½“å‰èŠ‚ç‚¹çš„ç¼–å·
        else
        modify(1,a,b);//ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ ¹èŠ‚ç‚¹çš„ä¸‹æ ‡,ç¬¬äºŒä¸ªå‚æ•°æ˜¯è¦ä¿®æ”¹çš„ä½ç½®ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯è¦ä¿®æ”¹çš„å€¼

    }
    return 0;
}
```

### æ•°æ˜Ÿæ˜Ÿ

```c++
#include<iostream>
using namespace std;
const int N = 32000 + 10;

int w[N];
int s[N];
int level[N];

int lowbit(int x){
    return x & -x;
}

void add(int x){
    
    for(int i = x; i < N; i = i + lowbit(i)){
        s[i] ++;
    }
    
}

int sum(int x){
    
    int res = 0;
    while(x){
        res += s[x];
        x = x - lowbit(x);
    }
    return res;
}

int main(){
    
    int n; cin>>n;
    for(int i = 0; i < n; i++){
        
        int x, y;
        scanf("%d%d", &x, &y);
        x++;
        level[sum(x)]++;
        add(x);
        
    }
    
    for(int i = 0; i < n; i++){
        cout<<level[i]<<endl;
    }
    
    return 0;
}
```

### æ—¥å¿—ç»Ÿè®¡

```c++
#include <cstdio>
#include <cstring>
#include <iostream>
#include <algorithm>

using namespace std;

typedef pair<int, int> PII;

#define x first
#define y second

const int N = 100010;

int n, d, k;
PII logs[N];
bool st[N];//ç”¨æ¥æ ‡è®°idå·ï¼Œå› ä¸ºid <= 1e5ï¼Œæ‰€ä»¥å¯ä»¥åˆ©ç”¨éå†æ¥è¾“å‡ºã€‚
int cnt[N];//ç”¨æ¥è®°å½•ä¸€ä¸ªidå·è·å¾—çš„èµæ•°ï¼Œè¡¨ç¤ºå½¢å¼ä¸ºcnt[id]++;

int main(){
    scanf("%d%d%d", &n, &d, &k);

    for (int i = 0; i < n; i ++ ) scanf("%d%d", &logs[i].x, &logs[i].y);
    //æ’åºæ—¶é»˜è®¤ä»¥firstä¸ºå‡†æ’åº
    sort(logs, logs + n);

    //åŒæŒ‡é’ˆç®—æ³•ï¼Œ ièµ°åœ¨å‰é¢ï¼Œjèµ°åœ¨åé¢
    for (int i = 0, j = 0; i < n; i ++ ){
        int t = logs[i].y;//tè¡¨ç¤ºä¸ºiæ—¶åˆ»çš„idå·
        cnt[t] ++;//åœ¨jæ—¶åˆ»ï¼Œidå·ä¸ºtçš„å¤§ä½¬æ—¥è®°è·å¾—äº†ä¸€ä¸ªèµï¼Œç»™tå¤§ä½¬åŠ ä¸€åˆ†

        while (logs[i].x - logs[j].x >= d){//ä¸¤ä¸ªæŒ‡é’ˆè·¨è¶Šçš„æ—¶é—´è¶…è¿‡äº†dï¼Œæ—©æœŸçš„èµè¿‡æœŸäº†
            cnt[logs[j].y] --;//å°±æ˜¯è¿™ä½å¤§ä½¬ï¼Œè·èµçš„æ—¶é—´å¤ªä¹…è¿œäº†ï¼Œèµä½œåºŸäº†ï¼Œå“­å»å§
            j ++;//åœ¨logs[j].xæ—¶åˆ»çš„å¤ªä¹…è¿œäº†ï¼Œå¾€å‰æŒªæŒªã€‚
            //è¿™ä¸ªå¾ªç¯ï¼Œç›´åˆ°æœ€åä¸€ä¸ªèµä¸è¿‡æœŸä¸ºæ­¢ã€‚
        }
        //è®°å½•çƒ­å¸–çš„idå·ï¼Œå¥½çŸ¥é“è°æ‰æ˜¯å¤§ä½¬
        if (cnt[t] >= k) st[t] = true;
    }

    //éå†ä¸€éidå·ï¼Œå±•ç°å¤§ä½¬
    for (int i = 0; i <= 100000; i ++ ) if (st[i]) cout << i << endl;

    return 0;
}
```

### å¯»æ‰¾èŠ±æŸ

```c++
#include <iostream>
#include <queue>
#include <cstring>
using namespace std;
typedef pair<int, int> PII;

const int N = 210;

char a[N][N];
int dis[N][N];

void bfs(PII start)
{
    queue<PII> q;
    q.push(start);//é˜Ÿå¤´é˜Ÿï¼Œå¯¹åº”æ­¥éª¤1
    while(!q.empty())
    {
        PII u = q.front();
        q.pop();
        int dx[4] = {-1, 0, 1, 0};
        int dy[4] = {0, 1, 0 ,-1};
        for(int i = 0; i < 4; i++)//éå†å››ä¸ªæ–¹å‘ï¼Œå¯¹åº”æ­¥éª¤2
        {
            int x = u.first + dx[i];
            int y = u.second + dy[i];

            if(a[x][y] == '#') continue;//å¦‚æœæ˜¯'#',ä¸åšä»»ä½•å¤„ç†
            if(a[x][y] == '.')//å¦‚æœæ˜¯ '.'ï¼Œæ›´æ–°å¯¹åº”å†…å®¹
            {
                dis[x][y] = dis[u.first][u.second] + 1;
                a[x][y] = '#';
                q.push({x, y});
            }
            if(a[x][y] == 'E')//å¦‚æœæ˜¯'E'ï¼Œæ‰¾åˆ°äº†ï¼Œè¾“å‡º
            {
                cout << dis[u.first][u.second] + 1 << endl;
                return;
            }
        }
    }
    cout << "oop!" << endl;//æ²¡æœ‰æ‰¾åˆ°

}

int main()
{
    int t;
    cin >> t;
    while(t--)
    {
        memset(a, '#', sizeof(a));//åˆå§‹åŒ–åœ°å›¾ï¼Œå„ä¸ªç‚¹éƒ½æ˜¯å¢™ã€‚
        memset(dis, 0, sizeof(dis));//åˆå§‹åŒ–dis
        int n,m;
        PII start;
        cin >> n >> m;
        for(int i = 1; i <= n; i++)//ä»ç¬¬ä¸€è¡Œå­˜å‚¨åœ°å›¾ï¼Œå› ä¸ºå››å‘¨éƒ½æ˜¯å¢™ï¼Œbfsæ—¶ï¼Œå¯ä»¥ä¸åšè¶Šç•Œåˆ¤æ–­
        {
            for(int j = 1; j <= m; j++)//ä»ç¬¬ä¸€ï¼›åˆ—å­˜å‚¨åœ°å›¾ï¼Œå› ä¸ºå››å‘¨éƒ½æ˜¯å¢™ï¼Œbfsæ—¶ï¼Œå¯ä»¥ä¸åšè¶Šç•Œåˆ¤æ–­
            {
                cin >> a[i][j];
                if(a[i][j] == 'S')//è®°å½•ä¸‹èµ·ç‚¹ä½ç½®ã€‚
                    start.first = i, start.second = j, a[i][j] = '#';
            }
        }
        bfs(start);
    }
}
```

### çº¢ä¸é»‘

```c++
#include<iostream>
#include<cstring>
#include<queue>
#define x first
#define y second

using namespace std;
typedef pair<int,int> PII;

const int N=30;

char g[N][N];
int n,m;
int dx[4]={0,1,0,-1},dy[4]={1,0,-1,0};
bool st[N][N];

int bfs(int x,int y)
{
    int cnt=1;
    queue<PII> q;
    q.push({x,y});
    while(q.size())
    {
        PII t=q.front();
        q.pop();
        int x=t.x,y=t.y;
        for(int i=0;i<4;i++)
        {
            int a=x+dx[i],b=y+dy[i];
            if(a<0 || a>=n || b<0 || b>=m) continue;
            if(st[a][b]) continue;
            if(g[a][b]!='.') continue;
            st[a][b]=true;
            q.push({a,b});
            cnt++;
        }
    }
    return cnt;
}


int main()
{
    while(cin>>m>>n,n||m)
    {
        memset(st,0,sizeof st);
        for(int i=0;i<n;i++) scanf("%s",g[i]);
        int x,y,flag=0;
        for(int i=0;i<n;i++)
        {
            for(int j=0;j<m;j++)
                if(g[i][j]=='@')
                {
                    x=i,y=j;
                    flag=1;
                }
            if(flag) break;
        }
        cout<< bfs(x,y) <<endl;
    }
    return 0;
}
```

### ç­‰å·®æ•°åˆ—

```c++
#include <iostream>
#include <cstdio>
#include <algorithm>

using namespace std;

const int N = 1e5 + 10;

int n;
int a[N];

int gcd(int a, int b)
{
    return b ? gcd(b, a % b) : a;
}

int main()
{
    scanf("%d", &n);
    for (int i = 0; i < n; i ++ ) scanf("%d", &a[i]);

    sort(a, a + n);

    int x = a[0], y = a[n - 1];

    int d = 0;  //0ä¸ä»»æ„æ•°çš„æœ€å¤§å…¬çº¦æ•°éƒ½æ˜¯å…¶æœ¬èº«
    for (int i = 0; i < n - 1; i ++ )
        d = gcd(d, a[i + 1] - a[i]);

    if (!d) printf("%d\n", n);  //å…¬å·®ä¸º0çš„æƒ…å†µ
    else printf("%d\n", (y - x) / d + 1);

    return 0;
}
```

### è‹¹æœæ”¾ç½®ç›˜å­

```c++
æš´åŠ›
#include <iostream>
using namespace std;
int m, n;
int res;
void dfs(int t, int start, int state){  //state  å·²ç»å®Œæˆçš„åˆ†èº«   startä¸‹ä¸€ä¸ªåˆ†èº«çš„å€¼   tå‰©ä½™çš„èƒ½é‡
    if(state == n && t == 0){
        res ++;
    }
    if(state >= n)   return ;
    for(int i = start; i <= t; i ++ ){
        dfs(t-i, i, state+1);
    }
}
int main(){
    int T;
    cin >> T;
    while(T -- ){
        cin >> m >> n;
        res = 0;
        dfs(m, 0, 0);
        cout << res << endl;
    }
    return 0;
}
```

### ç³–æœ

```c++
/*
 çŠ¶æ€è¡¨ç¤º:
    é›†åˆ: æ‰€æœ‰çš„ä»iä¸ªç‰©å“ä¸­é€‰, ä¸”é€‰å‡ºçš„ç³–æ•°çš„æ€»å’Œ%k==jçš„æ‰€æœ‰æ–¹æ¡ˆçš„é›†åˆ
    å±æ€§: f(i,j) =æœ€å¤§å€¼

 çŠ¶æ€è®¡ç®—:(åˆ’åˆ†çš„ä¾æ®æ˜¯æ‰€æœ‰æ–¹æ¡ˆæ˜¯æ‰€æœ‰æ–¹æ¡ˆçš„æœ€åä¸€ä¸ªä¸åŒç‚¹)
    å¦‚ä½•è®¡ç®—åˆ’åˆ†çš„é›†åˆ?
        ä»å®é™…å«ä¹‰å‡ºå‘(çŠ¶æ€è¡¨ç¤ºä¸­çš„é›†åˆ)
    ä¸åŒ…å«ç‰©å“içš„é›†åˆ: f(i-1,j)
    åŒ…å«ç‰©å“içš„é›†åˆ: f(i-1,(j-wi)%k+wi)    --> è¿™é‡Œéœ€è¦æ³¨æ„è´Ÿæ•°å–æ¨¡==0|è´Ÿæ•°  ä¼˜åŒ–-> (j+k-wi%k)%k
    æœ€ç»ˆæ˜¯: f(i,j)=max(f(i-1,j),f(i-1,(j-wi)%k+wi))
 */

#include<iostream>
#include<cstring>

using namespace std;

const int N = 1e2 + 10;

int n, k;
int f[N][N];

int max(int x, int y) {
    return x > y ? x : y;
}

int main() {
    cin >> n >> k;

    memset(f, -0x3f, sizeof f); //åˆå§‹åŒ–ä¸º -âˆ

    f[0][0] = 0; //åªæœ‰f[0][0]æ˜¯æœ‰æ„ä¹‰çš„

    for (int i = 1; i <= n; i++) {
        int w;
        cin >> w;
        //ä½™æ•°ä¸€å®šæ˜¯ 0 - k-1 çš„
        for (int j = 0; j < k; j++) {
//            f[i][j] = max(f[i - 1][j], f[i - 1][(j - w) % k] + w);  ååŠéƒ¨åˆ† è¦è€ƒè™‘c++ä¸­çš„å–æ¨¡è¿ç®—, è´Ÿæ•°å–æ¨¡æ˜¯0æˆ–è€…è´Ÿæ•°
//                                                                    å¯ä»¥æ”¹æˆ
            f[i][j] = max(f[i - 1][j], f[i - 1][(j + k - w % k) % k] + w);
        }
    }
    // ç­”æ¡ˆæ˜¯ä»nä¸ªæ•°ä¸­é€‰, %k ä½™æ•°ä¸º0çš„æœ€å¤§å€¼
    cout << f[n][0] << endl;
    return 0;
}
```

### ä¿®æ”¹æ•°ç»„

```c++
#include<bits/stdc++.h>
using namespace std;
const int N = 1e6 + 10;
int n;
int p[N];

int find(int a){
    if(p[a] != a) p[a] = find(p[a]);
    return p[a];
}

int main(){
    
    cin>>n;
    for(int i = 0; i < N; i++){
        p[i] = i;
    }
    for(int i = 0; i < n; i++){
        int x; 
        scanf("%d", &x);
        x = find(x);
        printf("%d ", x);
        p[x] = x + 1;
    }
    
    return 0;
}
```

### æ•´æ•°æ‹¼æ¥

```c++
#include <iostream>
#include <cstring>
#include <cstdio>
using namespace std;

typedef long long LL;
const int N=100010;
int s[11][N];//è¡¨ç¤ºæŸä¸ªæ•°*10^i%k==jçš„æ•°é‡
int n;//è¡¨ç¤ºå°†è¦è¾“å…¥çš„nä¸ªæ•°
LL a[N];//å­˜æ”¾nä¸ªæ•°
int k;//è¡¨ç¤ºkå€
LL res;//è¡¨ç¤ºç»“æœ

int main()
{
    //1.è¾“å…¥æ•°æ®
    cin >> n >> k;
    for(int i = 0; i < n; i ++)
        cin >> a[i];

    //2.é¢„å¤„ç†sæ•°ç»„
    for(int i = 0; i < n; i ++)
    {
        LL t = a[i] % k;

        for(int j = 0; j < 11; j ++)//å› ä¸ºé¢˜ç›®ä¸­ç»™å‡ºçš„æœ€å¤§æ•°æ˜¯10^9
        {
            s[j][t] ++;
            t = t * 10 % k;
        }            
    }

    //3.å¾ªç¯æ•°ç»„è®¡ç®—ç­”æ¡ˆ
    for(int i = 0; i < n; i ++)
    {
        LL t = a[i] % k;
        int len = to_string(a[i]).size();//å°†è¿™ä¸ªæ•°å­—è½¬åŒ–ä¸ºå­—ç¬¦ä¸²ï¼Œå†åˆ¤æ–­è½¬æ¢åçš„å­—ç¬¦ä¸²çš„ä½æ•°å°±ç­‰äºè¿™ä¸ªæ•°å­—æœ¬èº«çš„ä½æ•°
        res += s[len][(k - t) % k];

        //4.åˆ¤é‡
        LL r = t;
        while(len--) r = r * 10 % k;  //ç­‰ä»·äºæ±‚a[i]ä¹˜ä»¥10^lençš„ä½™æ•°ï¼ŒåŒä¸Šé¢çš„é¢„å¤„ç†æ±‚æ³•ä¸€æ ·
        if(r == (k - t) % k) res --;
    }

    //5.è¾“å‡ºç­”æ¡ˆ
    cout << res << endl;

    return 0;
}
```

### ç½‘ç»œåˆ†æ

```c++
#include<cstdio>
#include<cstring>

const int N = 200010, M = N << 1;

int h[N], e[M], ne[M], idx;
void add(int a, int b)
{
    e[idx] = b, ne[idx] = h[a], h[a] = idx ++;
}

int n, m;
int p[N];
int find(int x)
{
    if(p[x] != x)  p[x] = find(p[x]);
    return p[x];
}

int f[N];

void dfs(int u, int fa)
{
    f[u] += f[fa];
    for(int i = h[u]; ~i; i = ne[i])
    {
        int j = e[i];
        dfs(j, u);
    }
}

int main()
{
    memset(h, -1, sizeof h);

    scanf("%d%d", &n, &m);
    for(int i = 1; i <= n * 2; i ++)  p[i] = i;

    int root = n + 1;
    while(m --)
    {
        int op, a, b;
        scanf("%d%d%d", &op, &a, &b);
        if(op == 1)
        {
            a = find(a), b = find(b);
            if(a != b)
            {
                p[a] = p[b] = root;
                add(root, a);
                add(root, b);
                root ++;
            }
        }
        else
        {
            a = find(a);
            f[a] += b;
        }
    }

    for(int i = 1; i < root; i ++)
        if(p[i] == i)  dfs(i, 0);

    for(int i = 1; i <= n; i ++)
        printf("%d ", f[i]);
    return 0;
}
```

```c++
#include <iostream>
#include <cstring>
#include <algorithm>

using namespace std;

const int N = 10010;

int n, m;
int p[N], d[N];

int find(int x)
{
    if (p[x] == x || p[p[x]] == p[x]) return p[x];
    int r = find(p[x]);
    d[x] += d[p[x]];
    p[x] = r;
    return r;
}

int main()
{
    scanf("%d%d", &n, &m);
    for (int i = 1; i <= n; i ++ ) p[i] = i;
    while (m -- )
    {
        int t, a, b;
        scanf("%d%d%d", &t, &a, &b);
        if (t == 1)
        {
            a = find(a), b = find(b);
            if (a != b)
            {
                d[a] -= d[b];
                p[a] = b;
            }
        }
        else
        {
            a = find(a);
            d[a] += b;
        }
    }

    for (int i = 1; i <= n; i ++ )
        if (i == find(i)) printf("%d ", d[i]);
        else printf("%d ", d[i] + d[find(i)]);
    puts("");

    return 0;
}
```

### ç ç 

```c++
#include <bits/stdc++.h>

using namespace std;

const int N = 110, M = 2e5 + 10;
int sum;
int n;
int w[N];
bool f[N][M];

int main() {

    cin>>n;
    for (int i = 1; i <= n; i++)
    {
        scanf("%d", &w[i]);
        sum+=w[i];
    }

    f[0][0]=true;

    for (int i = 1; i <= n;i++)
        for (int j = 0; j <=sum;j++)
            f[i][j]=f[i-1][j]||f[i-1][j+w[i]]||f[i-1][abs(j-w[i])];
                //åªè¦æœ‰ä¸€ä¸ªéç©º,f[i][j]å°±éç©º
    int ans = 0;
    for (int i = 1; i <=sum;i++)
        if(f[n][i])ans++;//ä¸ä¸ºé›¶è¯´æ˜å¯ä»¥é€‰å‡ºè¿™ä¸ªè´¨é‡çš„ç ç 

    cout << ans;

    return 0;
}
```

```c++
#include<stdio.h> 
int n;
int res;
int w[1000000]; 
bool st[100000];
void dfs(int k,int sum)//è¡¨ç¤ºkä¸ªçš„ç ç ,é‡é‡æ˜¯sum 
{
    if(k>n)//k>n è¯´æ˜é€‰å®Œnä¸ªç ç  
    {
        if(sum>0&&!st[sum])// åˆ¤æ–­é€‰å‡ºæ¥çš„nä¸ªç ç çš„é‡é‡æ˜¯å¦æ²¡è¢«æ ‡è®°è¿‡ ï¼Œå¦‚æ²¡æ ‡è®°åˆ™ç­”æ¡ˆåŠ 1 
        {
            res++;
            st[sum]=true;//æ ‡è®°è¿™ä¸ªé‡é‡ 
            return;
        }   
    }
    //è¿˜æ²¡é€‰å¤Ÿnä¸ªç ç  
    else
    {
        dfs(k+1,sum-w[k]);//ç ç æ”¾å³è¾¹ 
        dfs(k+1,sum);//è·³è¿‡ï¼Œä¸é€‰ç”¨å½“å‰çš„ç ç  
        dfs(k+1,sum+w[k]);//ç ç æ”¾å·¦è¾¹ 
    }
}
int main()
{
    scanf("%d",&n); 
    for(int i=1;i<=n;i++)scanf("%d",&w[i]); 

    dfs(0,0);
    printf("%d",res); 
}
```

### åŒå‘æ’åº æš´åŠ›

```c++
#include <iostream>
#include <algorithm>
using namespace std;

const int N=100010;
int a[N];

int main(){
    int n,m;
    cin>>n>>m;
    for(int i=0;i<n;i++) a[i]=i+1;

    while(m)
    {
        int t;
        cin>>t;
        if(t)
        {
            int e;
            cin>>e;
            sort(a+(e-1),a+n);
        }else
        {
            int s;
            cin>>s;
            sort(a,a+s,greater<int>());
        }

        m--;
    }

    for(int i=0;i<n;i++) cout<<a[i]<<" ";
    return 0;
}
```

### è´Ÿè½½å‡è¡¡

```c++
#include <iostream>
#include <cstring>
#include <algorithm>
#include <queue>

#define x first
#define y second

using namespace std;
typedef pair<int, int> PII;

const int N = 200010;

int n,m;
int s[N];//æ¯å°è®¡ç®—æœºç®—åŠ›
priority_queue<PII,vector<PII>,greater<PII> >q[N];//æ¯å°è®¡ç®—æœºä»»åŠ¡
//PII <ç»“æŸæ—¶åˆ»,ç®—åŠ›>
//!è¦å°æ ¹å †
int main()
{
    scanf("%d%d", &n, &m);
    for(int i = 1; i <= n; ++ i)scanf("%d",&s[i]);//!ä¸‹æ ‡ä»1å¼€å§‹
    while (m -- ){
        int a,b,c,d;
        scanf("%d%d%d%d",&a,&b,&c,&d);
        while(q[b].size()&&q[b].top().x<=a){//å½“å †å°¾çš„ç»“æŸæ—¶åˆ»å°äºå½“å‰åˆ†é…æ—¶åˆ»
            s[b] += q[b].top().y;//!æ¢å¤ç®—åŠ› +
            q[b].pop();//å¼¹å‡ºè¯¥ä»»åŠ¡

        }
        if(s[b]<d)puts("-1");//å½“å‰ç®—åŠ›æ— æ³•åˆ†é…
        else{
            q[b].push({a+c,d});//åŠ å…¥ä»»åŠ¡
            s[b] -= d;//æ›´æ–°ç®—åŠ›
            printf("%d\n",s[b]);//è¾“å‡ºç®—åŠ›

        }
    }
    return 0;

}
```

### å›½é™…è±¡æ£‹

```c++
#include<iostream>
using namespace std;
const int N=1<<6;
const int M=110;
const int T=30;
const int mod=1e9+7;
typedef long long ll;
ll f[M][N][N][T];//f[i][a][b][t] i ä»£è¡¨å‰iåˆ— aä»£è¡¨å‰å‰åˆ—ï¼Œbä»£è¡¨å‰é¢ä¸€åˆ—çš„çŠ¶æ€é›†åˆ tä»£è¡¨å·²ç»ç”¨è¿‡å¤šå°‘ä¸ªæ£‹å­
int lowit(int x){//è®¡ç®—å½“å‰åˆ—å¢åŠ äº†å¤šå°‘ä¸ªæ£‹å­
    int res=0;
    for(;x;x-=(x&-x))res++;
    return res;
}
int main(){
    int n,m,k;
    cin>>n>>m>>k;
    int maxn=1<<n;
    f[0][0][0][0]=1;//åˆå§‹åŒ–
    for(int i=1;i<=m;i++)
        for(int a=0;a<maxn;a++)
            for(int b=0;b<maxn;b++)
                if((a>>2)&b||a&(b>>2))continue;//åˆ¤æ–­å‰å‰åˆ—å’Œå‰åˆ—æœ‰æ²¡æœ‰å‘ç”Ÿå†²çªå‰ªæ
                else
                    for(int c=0;c<maxn;c++){
                        if((c>>2)&b||c&(b>>2))continue;//åˆ¤æ–­å‰åˆ—å’Œå½“å‰åˆ—æœ‰æ²¡æœ‰å‘ç”Ÿå†²çª
                        if((c>>1)&a||c&(a>>1))continue;//åˆ¤æ–­å‰å‰åˆ—å’Œå½“å‰åˆ—æœ‰æ²¡æœ‰å‘ç”Ÿå†²çª
                        int t=lowit(c);
                      // é‚£ä¹ˆè¿˜å‰© j - t ä¸ªæ£‹å­æ‘†æ”¾åœ¨ å‰i - 1å±‚ï¼Œå°†æ‰€æœ‰åˆæ³•çŠ¶æ€ ç´¯åŠ 
                        for(int tt=t;tt<=k;tt++)
                            f[i][b][c][tt]=(f[i][b][c][tt]+f[i-1][a][b][tt-t])%mod;
                    }
    int res=0;
    for(int i=0;i<maxn;i++)//å¯¹å‰å‰åˆ—å’Œå‰åˆ—ä¸åŒçš„çŠ¶æ€æœ€ç»ˆæœ‰å¤šå°‘ä¸ªå¯ä»¥æ‘†æ”¾çš„æ–¹æ¡ˆæ•°
        for(int j=0;j<maxn;j++)
            res=(res+f[m][i][j][k])%mod;
    cout<<res;
}
```

### ç»Ÿè®¡å­çŸ©é˜µ

```c++
#include<iostream>
using namespace std;

typedef long long ll;
const int N = 5e2+3;
int n, m, k;
int a[N][N];


int main(){
    ios::sync_with_stdio(false);
    cin >> n >> m >> k;
    for(int i=1; i<=n; i++){
        for(int j=1; j<=m; j++){
            cin >> a[i][j];
            a[i][j] += a[i - 1][j] + a[i][j - 1] - a[i - 1][j - 1];
        }
    }

    ll ans = 0;
    for(int i=1; i<=m; i++){
        for(int j=i; j<=m; j++){
            for(int s = 1, t = 1; t <= n; t ++ ){
                while(s <= t && a[t][j] - a[s - 1][j] - a[t][i - 1] + a[s - 1][i - 1] > k) s ++ ;
                if(s <= t) ans += t - s + 1;
            }
        }
    }

    cout << ans << '\n';
}
```

### ç§¯æœ¨

```c++
#include <iostream>
#include <algorithm>

using namespace std;

const int N = 1e7 + 10, mod = 1000000007;

int g[4][4] = {
    {1, 1, 1, 1},
    {0, 0, 1, 1},
    {0, 1, 0, 1},
    {1, 0, 0, 0},
};

int f[N][4];

int main()
{
    int n;
    cin >> n;

    f[1][0] = 1;
    for (int i = 1; i <= n; i ++ )
        for (int j = 0; j < 4; j ++ )
            for (int k = 0; k < 4; k ++ )
            {
                f[i + 1][k] = (f[i + 1][k] + f[i][j] * g[j][k]) % mod;
            }


    cout << f[n + 1][0];

    return 0;
}
```

```c++
#include <iostream>

using namespace std;

const int mod = 1e9+7;
long long dp[2][3]; // dp[i][j]è¡¨ç¤ºå‰iåˆ—å¡«æ»¡å¹¶ä¸”å¡«äº†ç¬¬i+1åˆ—jä¸ªä½ç½®çš„æ–¹æ¡ˆ

int main() {
    int n;
    cin >> n;
    dp[1][0] = 1; // ä¸€ä¸ªé•¿æ¡ç«–ç€æ”¾
    dp[1][1] = 2; // ä¸€ä¸ªLå‹ç«–ç€æ”¾ï¼ˆå¯ä»¥ä¸Šä¸‹ç¿»è½¬æ‰€ä»¥æ˜¯ä¸¤ç§ï¼‰  
    dp[1][2] = 1; // ä¸¤ä¸ªé•¿æ¡æ¨ªç€æ”¾
    for(int i = 2; i <= n; i++) {
        // è¿™ä¸€åˆ—é•¿æ¡ç«–ç€æ”¾ + å‰ä¸€åˆ—å æ»¡
        dp[i&1][0] = (dp[i-1&1][0] + dp[i-1&1][2]) % mod; 
        // ä¸€ä¸ªLå‹ç«–ç€æ”¾ï¼ˆä¸Šä¸‹ç¿»è½¬*2ï¼‰ + è¿™ä¸€åˆ—è¢«å ä¸€ä¸ªå†æ¨ªç€æ”¾ä¸€ä¸ªé•¿æ¡
        dp[i&1][1] = (dp[i-1&1][0] * 2 + dp[i-1&1][1]) % mod; 
        // è¿™ä¸€åˆ—ä¸¤ä¸ªé•¿æ¡æ¨ªç€æ”¾ + ä¸€ä¸ªLå‹æ‘†æˆ7å­—å½¢
        dp[i&1][2] = (dp[i-1&1][0] + dp[i-1&1][1]) % mod;
    }
    cout << dp[n&1][0];
    return 0;
}
```

```c++
#include <iostream>

using namespace std;
const int N = 1e7 + 10;
const int mod = 1e9 + 7;
long long dp[N][3]; // dp[i][j]è¡¨ç¤ºå‰iåˆ—å¡«æ»¡å¹¶ä¸”å¡«äº†ç¬¬i+1åˆ—jä¸ªä½ç½®çš„æ–¹æ¡ˆ

int main() {
    int n;
    cin>>n;
    
    dp[1][0] = 1; dp[1][1] = 2; dp[1][2] = 1;
    for(int i = 2; i <= n; i++){
        
        dp[i][0] = (dp[i - 1][0] + dp[i - 1][2]) % mod;
        dp[i][1] = (dp[i - 1][1] + dp[i - 1][0] * 2) % mod;
        dp[i][2] = (dp[i - 1][0] + dp[i - 1][1]) % mod;
    }
    
    cout<<dp[n][0];

    return 0;
}
```

### æç™½æ‰“é…’

![image-20230323210915009](/Users/xuruihang/Library/Application Support/typora-user-images/image-20230323210915009.png)

```c++
#include<bits/stdc++.h>
using namespace std;

const int N = 110, M = 1000000007;
int n, m, f[N][N][N][2];

int main()
{
    scanf("%d%d", &m, &n);

    for(int i = 0; i <= n; i ++ )
    {
        for(int j = 0; j <= m; j ++ )
        {
            for(int k = 0; k < 100; k ++ )
            {
                for(int c = 0; c < 2; c ++ )
                {
                    if(i == 0 && j == 0 && k == 2 && c == 1)
                    f[i][j][k][c] = 1;

                    if(i == 0 && j == 0)
                    continue;

                    if(j > 0 && c == 1 && k % 2 == 0)
                    {
                        f[i][j][k][c] = (f[i][j - 1][k / 2][0] + f[i][j - 1][k / 2][1]) % M;
                    }

                    if(i > 0 && c == 0 && k >= 0)
                    {
                        f[i][j][k][c] = (f[i - 1][j][k + 1][0] + f[i - 1][j][k + 1][1]) % M;
                    }
                }   
            }
        } 
    }

    printf("%d", f[n][m][0][0]);
    return 0;
} 
```

```c++
/*åˆå§‹åŒ–çš„æ—¶å€™æŠŠ f[0][0][2] åˆå§‹åŒ–ä¸º1ï¼Œå…¶ä»– f[0][0][k] éƒ½ä¸º0ï¼Œ
è¡¨ç¤ºä¸€å¼€å§‹åªæœ‰æç™½æ‰‹é‡Œæ‹¿2æ–—é…’è¿™ä¸€ç§æƒ…å†µã€‚
æœ€åæ‰“å°ç­”æ¡ˆçš„æ—¶å€™ä¸æ˜¯æ‰“å° f[n][m][0] ,å› ä¸ºè¿™ä¹ˆæ‰“å°æ˜¯æ— æ³•åŒºåˆ†æœ€åæ˜¯åˆ°èŠ±è¿˜æ˜¯åˆ°åº—ï¼Œ
æˆ‘ä»¬å¯ä»¥å¾€å‰æ¨ä¸€æ­¥ï¼Œå¦‚æœæœ€ååˆ°èŠ±ï¼Œé‚£ä¹ˆå–å®Œçš„ä¸Šä¸€æ­¥åº”è¯¥æ˜¯f[n - 1][m][1],
æ‰€ä»¥æœ€åç­”æ¡ˆæ˜¯f[n - 1][m][1]
**/
#include<bits/stdc++.h> 
using namespace std;


const int N = 110, M = 1000000007;
int n, m, f[N][N][N];

int main()
{
    scanf("%d%d", &m, &n);

    for(int i = 0; i <= n; i ++ )
    {
        for(int j = 0; j <= m; j ++ )
        {
            for(int k = 0; k < N; k ++ )
            {
                if(i == 0 && j == 0 && k == 2)
                f[i][j][k] = 1;

                if(i == 0 && j == 0)
                continue;

                if(i > 0)
                f[i][j][k] = (f[i][j][k] + f[i - 1][j][k + 1]) % M;

                if(j > 0 && k % 2 == 0)
                f[i][j][k] = (f[i][j][k] + f[i][j - 1][k / 2]) % M;
            }
        } 
    }

    printf("%d", f[n - 1][m][1]);
    return 0;
} 
```

